<div class="d-flex">
  <!-- Sidebar on the left -->
  <app-sidebar class="d-flex flex-column flex-shrink-0"></app-sidebar>

  <!-- Map and journey info on the right -->
  <div class="flex-grow-1 d-flex flex-row-reverse" style="height: 100vh;">
    <!-- Points/info panel on the right -->
    <div class="journey-info-panel">
      <div class="header">
        <input class="journey-name" placeholder="Journey name..." [(ngModel)]="journeyName" />
      </div> <!-- TODO add description field -->

      <div *ngIf="loading" class="loading-indicator">
        <i class="fas fa-spinner fa-spin"></i> Loading journey...
      </div>
      <div *ngIf="error" class="error-message">
        {{ error }}
      </div>

      <div class="points-list" *ngIf="!loading && !error">
        <div *ngFor="let point of points; let i = index">
          <label>
            {{ 'Point ' + (i + 1) }}
            <input type="checkbox" [(ngModel)]="point.visible" (change)="updatePath()" />
          </label>
        </div>
      </div>

      <div class="distance" *ngIf="!loading && !error">
        Journey distance: {{ distance }} km
      </div>

      <div class="buttons" *ngIf="!loading && !error">
        <button class="share">Share</button>
        <button class="save">Save</button>
        <button class="discard">Discard</button>
      </div>
    </div>

    <!-- Map on the left of the info panel (but right of sidebar) -->
    <div class="map flex-grow-1">
      <div leaflet [leafletOptions]="mapOptions" [leafletLayers]="mapLayers" (leafletMapReady)="onMapReady($event)" style="height: 100%; width: 100%"></div>
    </div>
  </div>
</div>
