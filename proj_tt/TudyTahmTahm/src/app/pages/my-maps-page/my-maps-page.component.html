<div class="maps-container">
  <app-sidebar></app-sidebar>

  <div class="main-content">
    <div class="header">
      <div class="monitor-icon">
        <i class="fas fa-desktop"></i>
      </div>
      <h1 class="page-title">My maps</h1>
      <div class="header-actions">
        <button class="help-button" aria-label="Help">
          <i class="fas fa-question-circle"></i>
        </button>
        <button class="notification-button" aria-label="Notifications">
          <i class="fas fa-bell"></i>
        </button>
      </div>
    </div>

    <div *ngIf="loading" class="loading-indicator">
      <i class="fas fa-spinner fa-spin"></i> Loading maps...
    </div>

    <div *ngIf="error" class="error-message">
      <p>{{ error }}</p>
    </div>

    <div *ngIf="!loading && !error && maps.length === 0" class="no-maps">
      <p>You don't have any maps yet. Create your first map!</p>
    </div>

    <div class="maps-grid" *ngIf="!loading && !error">
      <div class="map-card"
           [routerLink]="['/maps', map.mapID]"
           routerLinkActive="active"
           *ngFor="let map of maps">
        <div class="map-content" [style.background-image]="'url(' + map.mapPreviewPath + ')'"></div>
        <div class="map-title">{{ map.mapName }}</div>
      </div>

      <div class="add-map-card" (click)="addNewMap()">
        <div class="add-icon">
          <i class="fas fa-plus"></i>
        </div>
        <div class="add-text">ADD MAP</div>
      </div>
    </div>
  </div>

  <!-- Overlay and dialog -->
  <div *ngIf="showAddMapDialog" class="dialog-overlay" (click)="onDialogClose()"></div>
  <app-add-map-dialog
    *ngIf="showAddMapDialog"
    (closeDialog)="onDialogClose()"
    (createMap)="onCreateMap($event)">
  </app-add-map-dialog>
</div>
